<!-- PATH: /qa.html :: FULL FILE -->
<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Q&A | NAVI TOUR</title>

  <!-- GitHub Pages용 동적 BASE -->
  <script>
    (function () {
      const seg = location.pathname.split('/').filter(Boolean);
      const base = (location.hostname.endsWith('.github.io') && seg.length > 0)
        ? '/' + seg[0] + '/'
        : '/';
      const b = document.createElement('base');
      b.setAttribute('href', base);
      document.head.prepend(b);
    })();
  </script>

  <!-- 폰트 & 아이콘 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Noto+Sans+KR:wght@300;400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

  <!-- 전역 스타일 -->
  <link rel="stylesheet" href="css/Style.css">

  <style>
    :target{ scroll-margin-top:88px; }

    main.qa-page{
      padding:50px 0 60px;
    }

    .qa-shell{
      max-width:1100px;
      margin:0 auto 40px;
      padding:32px 32px 40px;
      border-radius:32px;
      background:#f5f5f7;
      box-shadow:
        0 18px 60px rgba(0,0,0,.18),
        0 0 0 1px rgba(0,0,0,.02);
      color:#111827;
    }

    .qa-head{
      text-align:center;
      margin-bottom:24px;
    }

    .qa-kicker{
      font-size:11px;
      letter-spacing:.18em;
      text-transform:uppercase;
      color:#9ca3af;
      margin-bottom:6px;
    }

    .qa-title{
      margin:0 0 10px;
      font-size:26px;
      font-weight:700;
    }

    .qa-lead{
      margin:0;
      font-size:14px;
      line-height:1.8;
      color:#4b5563;
    }

    .qa-lead strong{
      font-weight:600;
      color:#111827;
    }

    /* 검색 + 카테고리 */
    .qa-controls{
      display:flex;
      flex-wrap:wrap;
      gap:10px 12px;
      align-items:center;
      justify-content:space-between;
      margin-top:22px;
      margin-bottom:10px;
    }

    .qa-search-wrap{
      flex:1 1 260px;
      min-width:0;
    }

    .qa-search-input{
      width:100%;
      border-radius:999px;
      border:1px solid #d1d5db;
      padding:8px 30px 8px 14px;
      font-size:13px;
      outline:none;
      background:#ffffff;
      color:#111827;
      background-image:url("data:image/svg+xml,%3Csvg width='14' height='14' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='11' cy='11' r='6' stroke='%239ca3af' stroke-width='2'/%3E%3Cpath d='M16 16L20 20' stroke='%239ca3af' stroke-width='2' stroke-linecap='round'/%3E%3C/svg%3E");
      background-repeat:no-repeat;
      background-position:right 10px center;
      background-size:14px 14px;
    }

    .qa-search-input::placeholder{
      color:#9ca3af;
    }

    .qa-tabs{
      flex:0 0 auto;
      display:flex;
      flex-wrap:wrap;
      gap:6px;
    }

    .qa-tab{
      border-radius:999px;
      border:1px solid #e5e7eb;
      padding:5px 10px;
      font-size:12px;
      background:#ffffff;
      color:#4b5563;
      cursor:pointer;
      transition:
        background-color .18s ease,
        border-color .18s ease,
        color .18s ease;
    }

    .qa-tab.is-active{
      background:#111827;
      border-color:#111827;
      color:#f9fafb;
    }

    /* 리스트/아코디언 */
    .qa-list{
      margin:10px 0 0;
      padding:0;
      list-style:none;
      border-radius:22px;
      overflow:hidden;
      background:#ffffff;
      border:1px solid #e5e7eb;
    }

    .qa-item + .qa-item{
      border-top:1px solid #e5e7eb;
    }

    .qa-question{
      width:100%;
      padding:12px 18px;
      border:0;
      background:transparent;
      cursor:pointer;
      display:flex;
      align-items:flex-start;
      gap:10px;
      text-align:left;
      font:inherit;
      color:inherit;
    }

    .qa-cat-badge{
      flex:0 0 auto;
      font-size:11px;
      padding:3px 7px;
      border-radius:999px;
      background:#111827;
      color:#f9fafb;
      margin-top:2px;
    }

    .qa-q-main{
      flex:1 1 auto;
      min-width:0;
    }

    .qa-q-text{
      font-size:13.5px;
      font-weight:600;
      color:#111827;
      margin-bottom:2px;
    }

    .qa-q-meta{
      font-size:11.5px;
      color:#9ca3af;
    }

    .qa-toggle-icon{
      flex:0 0 auto;
      margin-left:8px;
      font-size:12px;
      color:#9ca3af;
      transition:transform .2s ease;
    }

    .qa-item.is-open .qa-toggle-icon{
      transform:rotate(90deg);
      color:#6b7280;
    }

    .qa-answer{
      max-height:0;
      overflow:hidden;
      padding:0 18px 0;
      background:#f9fafb;
      transition:
        max-height .24s ease,
        padding-top .18s ease,
        padding-bottom .18s ease,
        background-color .18s ease;
    }

    .qa-item.is-open .qa-answer{
      padding-top:4px;
      padding-bottom:12px;
      max-height:400px; /* 적당한 값, 내용은 자동으로 잘림 */
    }

    .qa-answer p{
      margin:4px 0 0;
      font-size:13px;
      line-height:1.7;
      color:#4b5563;
    }

    .qa-answer p + p{
      margin-top:6px;
    }

    .qa-answer strong{
      font-weight:600;
      color:#111827;
    }

    .qa-empty{
      display:none;
      margin-top:18px;
      font-size:13px;
      text-align:center;
      color:#6b7280;
    }

    .qa-empty span{
      font-weight:600;
      color:#111827;
    }

    @media (max-width:900px){
      .qa-shell{
        margin:0 16px 32px;
        padding:24px 18px 30px;
        border-radius:26px;
      }
      .qa-controls{
        flex-direction:column;
        align-items:stretch;
      }
      .qa-tabs{
        justify-content:flex-start;
      }
    }
  </style>
</head>
<body>

  <!-- HEADER (외부 주입) -->
  <div id="site-header" data-src="Comp/Header.html"></div>

  <main id="page" class="qa-page">
    <div class="qa-shell">
      <header class="qa-head">
        <div class="qa-kicker">Q&amp;A</div>
        <h1 class="qa-title">자주 묻는 질문</h1>
        <p class="qa-lead">
          나비투어에 대해 가장 많이 들어오는 질문들을 모았습니다.<br>
          먼저 여기에서 확인하신 뒤, 추가로 궁금한 점은 <strong>카카오톡·네이버·전화 상담</strong>으로 편하게 문의해 주세요.
        </p>
      </header>

      <!-- 검색 & 카테고리 -->
      <div class="qa-controls">
        <div class="qa-search-wrap">
          <input type="search"
                 id="qa-search"
                 class="qa-search-input"
                 placeholder="키워드로 검색 (예: 예약 변경, 결제, 취소, 준비물)"/>
        </div>
        <div class="qa-tabs" role="tablist" aria-label="질문 카테고리 선택">
          <button type="button" class="qa-tab is-active" data-cat="all">전체</button>
          <button type="button" class="qa-tab" data-cat="product">상품·코스</button>
          <button type="button" class="qa-tab" data-cat="booking">예약·변경</button>
          <button type="button" class="qa-tab" data-cat="payment">결제·환불</button>
          <button type="button" class="qa-tab" data-cat="prepare">준비물·현장</button>
          <button type="button" class="qa-tab" data-cat="etc">기타</button>
        </div>
      </div>

      <!-- 실제 Q&A 리스트 -->
      <ul class="qa-list" id="qa-list">
        <!-- 상품/코스 -->
        <li class="qa-item" data-cat="product">
          <button class="qa-question" type="button">
            <span class="qa-cat-badge">상품·코스</span>
            <div class="qa-q-main">
              <div class="qa-q-text">코스를 우리 학교·단체 일정에 맞게 수정할 수 있나요?</div>
              <div class="qa-q-meta">커스터마이징 / 일정 조정</div>
            </div>
            <span class="qa-toggle-icon"><i class="fa-solid fa-chevron-right"></i></span>
          </button>
          <div class="qa-answer">
            <p>
              네. 기본 코스를 기준으로 <strong>방문지 추가·삭제, 숙박 수 조정, 강의/나눔 시간 조정</strong> 등이 가능합니다.
            </p>
            <p>
              단체의 목적(수학여행, 수련회, 교사 연수, 기업 연수 등)과 인원·예산을 알려주시면,
              담당 기획자가 1~2개의 맞춤 일정안을 설계해 드립니다.
            </p>
          </div>
        </li>

        <li class="qa-item" data-cat="product">
          <button class="qa-question" type="button">
            <span class="qa-cat-badge">상품·코스</span>
            <div class="qa-q-main">
              <div class="qa-q-text">청소년·어린이도 참여할 수 있는 코스인가요?</div>
              <div class="qa-q-meta">대상 연령 / 교육용 프로그램</div>
            </div>
            <span class="qa-toggle-icon"><i class="fa-solid fa-chevron-right"></i></span>
          </button>
          <div class="qa-answer">
            <p>
              주요 코스는 <strong>초등 고학년 이상~성인</strong>까지 참여할 수 있도록 설계되어 있습니다.
              연령대에 따라 해설의 깊이와 활동 방식(미션, 글쓰기, 토의 등)을 조정합니다.
            </p>
            <p>
              초등 단체의 경우 이동 거리와 일정 밀도를 조정해 보다 안전하고 여유 있게 구성합니다.
            </p>
          </div>
        </li>

        <!-- 예약/변경 -->
        <li class="qa-item" data-cat="booking">
          <button class="qa-question" type="button">
            <span class="qa-cat-badge">예약·변경</span>
            <div class="qa-q-main">
              <div class="qa-q-text">예약 확정 후에 인원이나 날짜를 변경할 수 있나요?</div>
              <div class="qa-q-meta">예약 변경 / 일정 조정</div>
            </div>
            <span class="qa-toggle-icon"><i class="fa-solid fa-chevron-right"></i></span>
          </button>
          <div class="qa-answer">
            <p>
              가능 여부는 <strong>출발까지 남은 기간과 현지 호텔·차량 상황</strong>에 따라 달라집니다.
            </p>
            <p>
              변경이 필요하시면 최대한 빨리 <strong>카카오톡 또는 전화</strong>로 연락 주시면,
              추가 비용 및 조정 가능 여부를 안내해 드립니다.
            </p>
          </div>
        </li>

        <li class="qa-item" data-cat="booking">
          <button class="qa-question" type="button">
            <span class="qa-cat-badge">예약·변경</span>
            <div class="qa-q-main">
              <div class="qa-q-text">예약 절차는 어떻게 진행되나요?</div>
              <div class="qa-q-meta">문의 → 견적 → 예약 → 확인</div>
            </div>
            <span class="qa-toggle-icon"><i class="fa-solid fa-chevron-right"></i></span>
          </button>
          <div class="qa-answer">
            <p>
              기본 절차는 <strong>여행 문의 → 맞춤 견적/일정 제안 → 예약서 작성 → 계약금 입금 → 최종 안내</strong> 순서로 진행됩니다.
            </p>
            <p>
              자세한 흐름은 메인 페이지의 <strong>“문의부터 예약까지” 안내 섹션</strong>에서도 확인하실 수 있습니다.
            </p>
          </div>
        </li>

        <!-- 결제/환불 -->
        <li class="qa-item" data-cat="payment">
          <button class="qa-question" type="button">
            <span class="qa-cat-badge">결제·환불</span>
            <div class="qa-q-main">
              <div class="qa-q-text">취소 시 위약금(취소 수수료)은 어떻게 적용되나요?</div>
              <div class="qa-q-meta">취소 규정 / 환불 기준</div>
            </div>
            <span class="qa-toggle-icon"><i class="fa-solid fa-chevron-right"></i></span>
          </button>
          <div class="qa-answer">
            <p>
              상품별·항공권 포함 여부에 따라 세부 규정이 다릅니다.
              일반적으로는 <strong>출발일까지 남은 일수</strong>를 기준으로 단계별 위약금이 적용됩니다.
            </p>
            <p>
              견적서와 예약서에 각 상품의 <strong>상세 취소 규정</strong>을 함께 안내해 드리며,
              예약 전 반드시 담당자와 다시 한 번 확인해 주시길 권장드립니다.
            </p>
          </div>
        </li>

        <li class="qa-item" data-cat="payment">
          <button class="qa-question" type="button">
            <span class="qa-cat-badge">결제·환불</span>
            <div class="qa-q-main">
              <div class="qa-q-text">법인 카드나 학교·기관 명의 계좌로 결제할 수 있나요?</div>
              <div class="qa-q-meta">법인 결제 / 세금계산서</div>
            </div>
            <span class="qa-toggle-icon"><i class="fa-solid fa-chevron-right"></i></span>
          </button>
          <div class="qa-answer">
            <p>
              네. <strong>법인 카드, 기관 명의 계좌이체</strong> 모두 가능합니다.
              필요하신 경우 <strong>세금계산서, 거래명세서</strong>도 발행해 드립니다.
            </p>
            <p>
              내부 결재 절차가 있으시다면, 결재용 견적서·일정표 양식을 함께 요청해 주세요.
            </p>
          </div>
        </li>

        <!-- 준비물/현장 -->
        <li class="qa-item" data-cat="prepare">
          <button class="qa-question" type="button">
            <span class="qa-cat-badge">준비물·현장</span>
            <div class="qa-q-main">
              <div class="qa-q-text">참가자들이 미리 준비해야 할 것이 있나요?</div>
              <div class="qa-q-meta">준비물 / 사전 안내</div>
            </div>
            <span class="qa-toggle-icon"><i class="fa-solid fa-chevron-right"></i></span>
          </button>
          <div class="qa-answer">
            <p>
              출발 1~2주 전에 <strong>“참가자 안내문(준비물·복장·주의사항)”</strong>을 기관 담당자께 전달해 드립니다.
            </p>
            <p>
              여권/비자, 복장, 개인 상비약, 필기도구 등 코스 특성에 맞게 체크리스트 형태로 정리해 드리므로,
              참가자에게 그대로 전달하시면 됩니다.
            </p>
          </div>
        </li>

        <li class="qa-item" data-cat="prepare">
          <button class="qa-question" type="button">
            <span class="qa-cat-badge">준비물·현장</span>
            <div class="qa-q-main">
              <div class="qa-q-text">현장에서 안전 관리는 어떻게 이루어지나요?</div>
              <div class="qa-q-meta">안전 수칙 / 인솔 시스템</div>
            </div>
            <span class="qa-toggle-icon"><i class="fa-solid fa-chevron-right"></i></span>
          </button>
          <div class="qa-answer">
            <p>
              각 일정에는 <strong>전문 인솔자와 현지 가이드</strong>가 동행하며,
              이동 동선·숙소·식사는 사전에 안전 점검을 마친 곳만 사용합니다.
            </p>
            <p>
              인원 규모에 따라 <strong>조 편성, 출석 체크, 야간 점호</strong> 등 단체에 맞는 안전 관리 계획을 함께 설계합니다.
            </p>
          </div>
        </li>

        <!-- 기타 -->
        <li class="qa-item" data-cat="etc">
          <button class="qa-question" type="button">
            <span class="qa-cat-badge">기타</span>
            <div class="qa-q-main">
              <div class="qa-q-text">답변에서 찾지 못한 질문이 있습니다. 어디로 문의하면 될까요?</div>
              <div class="qa-q-meta">추가 문의</div>
            </div>
            <span class="qa-toggle-icon"><i class="fa-solid fa-chevron-right"></i></span>
          </button>
          <div class="qa-answer">
            <p>
              이 페이지에 없는 내용은 <strong>고객센터 &gt; 빠른 문의 채널</strong>을 통해 남겨 주세요.
            </p>
            <p>
              평일 기준, 오후 9시 이전에 들어온 문의에는 대부분 <strong>당일 안에 1차 답변</strong>을 드리고 있습니다.
            </p>
          </div>
        </li>
      </ul>

      <p class="qa-empty" id="qa-empty">
        <span>검색 결과가 없습니다.</span><br>
        키워드를 바꾸거나, 고객센터를 통해 직접 문의해 주세요.
      </p>
    </div>
  </main>

  <!-- 하단 상담 CTA + 푸터 -->
  <div id="site-receipt" data-src="Comp/Receipt.html"></div>
  <div id="site-footer" data-src="Comp/Footer.html"></div>

  <script>
    (function(){
      'use strict';

      function loadFragment(id, defaultSrc, onLoaded){
        const host = document.getElementById(id);
        if (!host) return;
        const src = host.getAttribute('data-src') || defaultSrc;

        fetch(src, { cache:'no-store' })
          .then(function(r){
            if (!r.ok) throw new Error('HTTP ' + r.status);
            return r.text();
          })
          .then(function(html){
            host.outerHTML = html;
            if (typeof onLoaded === 'function') onLoaded();
          })
          .catch(function(err){
            console.error('[NAVI TOUR] fragment load failed:', id, '→', src, err);
          });
      }

      // 공통 조각
      loadFragment('site-header',  'Comp/Header.html');
      loadFragment('site-receipt', 'Comp/Receipt.html');
      loadFragment('site-footer',  'Comp/Footer.html');

      // Q&A 필터/아코디언
      document.addEventListener('DOMContentLoaded', function(){
        const list   = document.getElementById('qa-list');
        if (!list) return;

        const items  = Array.from(list.querySelectorAll('.qa-item'));
        const tabs   = Array.from(document.querySelectorAll('.qa-tab'));
        const search = document.getElementById('qa-search');
        const empty  = document.getElementById('qa-empty');

        let currentCat = 'all';
        let keyword = '';

        function match(item){
          const cat = item.getAttribute('data-cat');
          if (currentCat !== 'all' && cat !== currentCat) return false;
          if (!keyword) return true;

          const text = item.textContent.toLowerCase();
          return text.indexOf(keyword) !== -1;
        }

        function render(){
          let visibleCount = 0;
          items.forEach(function(item){
            if (match(item)){
              item.style.display = '';
              visibleCount++;
            } else {
              item.style.display = 'none';
              item.classList.remove('is-open');
            }
          });
          if (empty){
            empty.style.display = visibleCount ? 'none' : 'block';
          }
        }

        tabs.forEach(function(tab){
          tab.addEventListener('click', function(){
            tabs.forEach(function(t){ t.classList.remove('is-active'); });
            this.classList.add('is-active');
            currentCat = this.getAttribute('data-cat') || 'all';
            render();
          });
        });

        if (search){
          search.addEventListener('input', function(){
            keyword = this.value.trim().toLowerCase();
            render();
          });
        }

        // 아코디언 토글
        items.forEach(function(item){
          const btn = item.querySelector('.qa-question');
          if (!btn) return;
          btn.addEventListener('click', function(){
            const isOpen = item.classList.contains('is-open');
            // 하나만 열리고 싶으면 아래 루프 사용
            items.forEach(function(it){
              if (it !== item) it.classList.remove('is-open');
            });
            if (!isOpen) item.classList.add('is-open');
            else item.classList.remove('is-open');
          });
        });

        render();
      });
    })();
  </script>
</body>
</html>
